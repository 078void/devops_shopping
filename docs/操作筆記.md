## 本地專案
### 確認環境安裝
```powershell
# 確認 .NET SDK (需要 .NET 6.0 或更高版本)
dotnet --version

# 確認 Docker
docker --version

# 確認 Git
git --version
```
### 建立專案結構
```powershell
# 進入 shopping 資料夾
cd shopping

# 建立解決方案檔案
dotnet new sln -n Shopping
```
## 建立 Shopping.Client
### 建立 MVC 專案
```powershell
# 建立 ASP.NET Core MVC 專案
dotnet new mvc -n Shopping.Client

# 將專案加入解決方案
dotnet sln add Shopping.Client/Shopping.Client.csproj

# 進入專案資料夾
cd Shopping.Client
```
### 建立 Product 模型
在 Shopping.Client/Models/ 資料夾建立 Product.cs
### 建立資料服務
在 Shopping.Client/Data/ 資料夾建立 ProductContext.cs
### 更新 HomeController
修改 Shopping.Client/Controllers/HomeController.cs
### 更新首頁 View
修改 Shopping.Client/Views/Home/Index.cshtml
### 測試應用程式
```powershell
# 執行應用程式
dotnet run
```
## 建立 Shopping.API (Web API + MongoDB)
### 建立 Web API 專案
```powershell
# 回到 shopping 資料夾根目錄
cd shopping

# 建立 ASP.NET Core Web API 專案
dotnet new webapi -n Shopping.API

# 將專案加入解決方案
dotnet sln add Shopping.API/Shopping.API.csproj

# 進入 API 專案資料夾
cd Shopping.API
```
### 安裝套件
```powershell
# 安裝 MongoDB Driver
dotnet add package MongoDB.Driver

# 還原套件
dotnet restore
```
### 建立資料模型
在 Shopping.API/Models/ 資料夾建立 Product.cs
### 建立資料庫設定類別
在 Shopping.API/Settings/ 資料夾建立 DatabaseSettings.cs
### 建立資料存取服務介面
在 Shopping.API/Data/ 資料夾建立 IProductContext.cs
### 實作資料存取服務
在 Shopping.API/Data/ 資料夾建立 ProductContext.cs
### 建立種子資料類別
在 Shopping.API/Data/ 資料夾建立 ProductContextSeed.cs
### 建立 Repository 介面
在 Shopping.API/Repositories/ 資料夾建立 IProductRepository.cs
### 實作 Repository
在 Shopping.API/Repositories/ 資料夾建立 ProductRepository.cs
### 建立 API Controller
刪除預設的 WeatherForecast.cs 和 WeatherForecastController.cs，然後在 Shopping.API/Controllers/ 建立 ProductController.cs
### 更新 appsettings.json
修改 Shopping.API/appsettings.json
### 設定 Program.cs
### 安裝並執行 MongoDB
```powershell
# 拉取 MongoDB Docker Image
docker pull mongo

# 執行 MongoDB Container
docker run -d -p 27017:27017 --name shopping-mongo mongo

# 確認 MongoDB 正在執行
docker ps
```
## 更新 Shopping 串接 API
### 更新 Client AP的port為5000
### 更新 Client 的 appsettings.json
修改 Shopping.Client/appsettings.json：

```json
{
  "ApiSettings": {
    "BaseUrl": "http://localhost:5000"
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*"
}
```
### 建立 API 設定類別
在 Shopping.Client/Settings/ 資料夾建立 ApiSettings.cs
### 建立 API 服務介面
在 Shopping.Client/Services/ 資料夾建立 IProductService.cs
### 實作 API 服務
在 Shopping.Client/Services/ 資料夾建立 ProductService.cs
### 更新 HomeController 使用 API
修改 Shopping.Client/Controllers/HomeController.cs